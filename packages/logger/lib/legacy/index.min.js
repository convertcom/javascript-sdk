/*!
 * Convert JS SDK
 * Version 1.0.0
 * Copyright(c) 2020-2022 Convert Insights, Inc
 * License Apache-2.0
 */
"use strict";var o=require("@convertcom/enums"),e=function(){return e=Object.assign||function(o){for(var e,t=1,r=arguments.length;t<r;t++)for(var l in e=arguments[t])Object.prototype.hasOwnProperty.call(e,l)&&(o[l]=e[l]);return o},e.apply(this,arguments)};function t(o,e){var t="function"==typeof Symbol&&o[Symbol.iterator];if(!t)return o;var r,l,n=t.call(o),i=[];try{for(;(void 0===e||e-- >0)&&!(r=n.next()).done;)i.push(r.value)}catch(o){l={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(l)throw l.error}}return i}function r(o,e,t){if(t||2===arguments.length)for(var r,l=0,n=e.length;l<n;l++)!r&&l in e||(r||(r=Array.prototype.slice.call(e,0,l)),r[l]=e[l]);return o.concat(r||Array.prototype.slice.call(e))}var l=o.LogLevel.TRACE,n=function(){function n(e,t,r){var n;void 0===e&&(e=console),void 0===t&&(t=l),this._defaultMapper=((n={})[o.LogMethod.LOG]=o.LogMethod.LOG,n[o.LogMethod.DEBUG]=o.LogMethod.DEBUG,n[o.LogMethod.INFO]=o.LogMethod.INFO,n[o.LogMethod.WARN]=o.LogMethod.WARN,n[o.LogMethod.ERROR]=o.LogMethod.ERROR,n),this._clients=[],this.addClient(e,t,r)}return n.prototype._isValidLevel=function(e){return Object.values(o.LogLevel).includes(e)},n.prototype._isValidMethod=function(e){return Object.values(o.LogMethod).includes(e)},n.prototype._log=function(e,l){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this._clients.forEach((function(i){if(l>=i.level&&o.LogLevel.SILENT!==l){var a=i.sdk[i.mapper[e]];a?a.call.apply(a,r([i.sdk],t(n),!1)):(console.log('Info: Unable to find method "'.concat(e,'()" in client sdk:'),i.sdk.constructor.name),console[e].apply(console,r([],t(n),!1)))}}))},n.prototype.log=function(e){for(var l=[],n=1;n<arguments.length;n++)l[n-1]=arguments[n];this._isValidLevel(e)?this._log.apply(this,r([o.LogMethod.LOG,e],t(l),!1)):console.error("Invalid Log Level")},n.prototype.trace=function(){for(var e=[],l=0;l<arguments.length;l++)e[l]=arguments[l];this._log.apply(this,r([o.LogMethod.LOG,o.LogLevel.TRACE],t(e),!1))},n.prototype.debug=function(){for(var e=[],l=0;l<arguments.length;l++)e[l]=arguments[l];this._log.apply(this,r([o.LogMethod.DEBUG,o.LogLevel.DEBUG],t(e),!1))},n.prototype.info=function(){for(var e=[],l=0;l<arguments.length;l++)e[l]=arguments[l];this._log.apply(this,r([o.LogMethod.INFO,o.LogLevel.INFO],t(e),!1))},n.prototype.warn=function(){for(var e=[],l=0;l<arguments.length;l++)e[l]=arguments[l];this._log.apply(this,r([o.LogMethod.WARN,o.LogLevel.WARN],t(e),!1))},n.prototype.error=function(){for(var e=[],l=0;l<arguments.length;l++)e[l]=arguments[l];this._log.apply(this,r([o.LogMethod.ERROR,o.LogLevel.ERROR],t(e),!1))},n.prototype.addClient=function(o,t,r){if(void 0===o&&(o=console),void 0===t&&(t=l),o)if(this._isValidLevel(t)){var n=e({},this._defaultMapper);r&&Object.keys(r).filter(this._isValidMethod).forEach((function(o){n[o]=r[o]})),this._clients.push({sdk:o,level:t,mapper:n})}else console.error("Invalid Log Level");else console.error("Invalid Client SDK")},n}();exports.LogManager=n;
//# sourceMappingURL=index.min.js.map

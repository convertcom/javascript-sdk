/*!
 * Convert JS SDK
 * Version 1.0.0
 * Copyright(c) 2020-2022 Convert Insights, Inc
 * License Apache-2.0
 */
"use strict";var o=require("@convertcom/enums"),e=function(){return e=Object.assign||function(o){for(var e,t=1,n=arguments.length;t<n;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o},e.apply(this,arguments)};function t(o,e){var t="function"==typeof Symbol&&o[Symbol.iterator];if(!t)return o;var n,r,l=t.call(o),i=[];try{for(;(void 0===e||e-- >0)&&!(n=l.next()).done;)i.push(n.value)}catch(o){r={error:o}}finally{try{n&&!n.done&&(t=l.return)&&t.call(l)}finally{if(r)throw r.error}}return i}function n(o,e,t){if(t||2===arguments.length)for(var n,r=0,l=e.length;r<l;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return o.concat(n||Array.prototype.slice.call(e))}var r=o.LogLevel.TRACE,l=function(){function l(e,t,n){var l;void 0===e&&(e=console),void 0===t&&(t=r),this._defaultMapper=((l={})[o.LogMethod.LOG]=o.LogMethod.LOG,l[o.LogMethod.DEBUG]=o.LogMethod.DEBUG,l[o.LogMethod.INFO]=o.LogMethod.INFO,l[o.LogMethod.WARN]=o.LogMethod.WARN,l[o.LogMethod.ERROR]=o.LogMethod.ERROR,l),this._clients=[],this.addClient(e,t,n)}return l.prototype._isValidLevel=function(e){return Object.values(o.LogLevel).includes(e)},l.prototype._isValidMethod=function(e){return Object.values(o.LogMethod).includes(e)},l.prototype._log=function(e,r){for(var l=[],i=2;i<arguments.length;i++)l[i-2]=arguments[i];this._clients.forEach((function(i){if(r>=i.level&&o.LogLevel.SILENT!==r){var s=i.sdk[i.mapper[e]];s?s.call.apply(s,n([i.sdk],t(l),!1)):(console.log('Info: Unable to find method "'.concat(e,'()" in client sdk:'),i.sdk.constructor.name),console[e].apply(console,n([],t(l),!1)))}}))},l.prototype.log=function(e){for(var r=[],l=1;l<arguments.length;l++)r[l-1]=arguments[l];this._isValidLevel(e)?this._log.apply(this,n([o.LogMethod.LOG,e],t(r),!1)):console.error("Invalid Log Level")},l.prototype.trace=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._log.apply(this,n([o.LogMethod.LOG,o.LogLevel.TRACE],t(e),!1))},l.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._log.apply(this,n([o.LogMethod.DEBUG,o.LogLevel.DEBUG],t(e),!1))},l.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._log.apply(this,n([o.LogMethod.INFO,o.LogLevel.INFO],t(e),!1))},l.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._log.apply(this,n([o.LogMethod.WARN,o.LogLevel.WARN],t(e),!1))},l.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._log.apply(this,n([o.LogMethod.ERROR,o.LogLevel.ERROR],t(e),!1))},l.prototype.addClient=function(o,t,n){if(void 0===o&&(o=console),void 0===t&&(t=r),o)if(this._isValidLevel(t)){var l=e({},this._defaultMapper);n&&Object.keys(n).filter(this._isValidMethod).forEach((function(o){l[o]=n[o]})),this._clients.push({sdk:o,level:t,mapper:l})}else console.error("Invalid Log Level");else console.error("Invalid Client SDK")},l.prototype.setClientLevel=function(o,e){if(e)if(this._isValidLevel(o)){var t=this._clients.findIndex((function(o){return o.sdk===e}));-1!==t?this._clients[t].level=o:console.error("Client SDK not found")}else console.error("Invalid Log Level");else console.error("Invalid Client SDK")},l}();exports.LogManager=l;
//# sourceMappingURL=index.min.js.map

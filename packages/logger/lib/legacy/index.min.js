/*!
 * Convert JS SDK
 * Version 1.0.0
 * Copyright(c) 2020-2022 Convert Insights, Inc
 * License Apache-2.0
 */
"use strict";var o=require("@convertcom/enums"),e=function(){return e=Object.assign||function(o){for(var e,t=1,l=arguments.length;t<l;t++)for(var n in e=arguments[t])Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o},e.apply(this,arguments)};function t(o,e){var t="function"==typeof Symbol&&o[Symbol.iterator];if(!t)return o;var l,n,r=t.call(o),i=[];try{for(;(void 0===e||e-- >0)&&!(l=r.next()).done;)i.push(l.value)}catch(o){n={error:o}}finally{try{l&&!l.done&&(t=r.return)&&t.call(r)}finally{if(n)throw n.error}}return i}function l(o,e,t){if(t||2===arguments.length)for(var l,n=0,r=e.length;n<r;n++)!l&&n in e||(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return o.concat(l||Array.prototype.slice.call(e))}var n=o.LogLevel.TRACE,r=function(){function r(e,t,l){var r;void 0===e&&(e=console),void 0===t&&(t=n),this._defaultMapper=((r={})[o.LogMethod.LOG]=o.LogMethod.LOG,r[o.LogMethod.DEBUG]=o.LogMethod.DEBUG,r[o.LogMethod.INFO]=o.LogMethod.INFO,r[o.LogMethod.WARN]=o.LogMethod.WARN,r[o.LogMethod.ERROR]=o.LogMethod.ERROR,r),this._clients=[],this.addClient(e,t,l)}return r.prototype._isValidLevel=function(e){return Object.values(o.LogLevel).includes(e)},r.prototype._isValidMethod=function(e){return Object.values(o.LogMethod).includes(e)},r.prototype._log=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];this._clients.forEach((function(i){if(n>=i.level&&o.LogLevel.SILENT!==n){var s=i.sdk[i.mapper[e]];s?s.call.apply(s,l([i.sdk],t(r),!1)):(console.log('Info: Unable to find method "'.concat(e,'()" in client sdk:'),i.sdk.constructor.name),console[e].apply(console,l([],t(r),!1)))}}))},r.prototype.log=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._isValidLevel(e)?this._log.apply(this,l([o.LogMethod.LOG,e],t(n),!1)):console.error("Invalid Log Level")},r.prototype.trace=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._log.apply(this,l([o.LogMethod.LOG,o.LogLevel.TRACE],t(e),!1))},r.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._log.apply(this,l([o.LogMethod.DEBUG,o.LogLevel.DEBUG],t(e),!1))},r.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._log.apply(this,l([o.LogMethod.INFO,o.LogLevel.INFO],t(e),!1))},r.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._log.apply(this,l([o.LogMethod.WARN,o.LogLevel.WARN],t(e),!1))},r.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._log.apply(this,l([o.LogMethod.ERROR,o.LogLevel.ERROR],t(e),!1))},r.prototype.addClient=function(o,t,l){if(void 0===o&&(o=console),void 0===t&&(t=n),o)if(this._isValidLevel(t)){var r=e({},this._defaultMapper);l&&Object.keys(l).filter(this._isValidMethod).forEach((function(o){r[o]=l[o]})),this._clients.push({sdk:o,level:t,mapper:r})}else console.error("Invalid Log Level");else console.error("Invalid Client SDK")},r.prototype.setClientLevel=function(o,e){if(this._isValidLevel(o))if(e){var t=this._clients.findIndex((function(o){return o.sdk===e}));if(-1===t)return void console.error("Client SDK not found");this._clients[t].level=o}else for(var l=0,n=this._clients.length;l<n;l++)this._clients[l].level=o;else console.error("Invalid Log Level")},r}();exports.LogManager=r;
//# sourceMappingURL=index.min.js.map

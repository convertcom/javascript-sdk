/*!
 * Convert JS SDK
 * Version 1.0.0
 * Copyright(c) 2020-2022 Convert Insights, Inc
 * License Apache-2.0
 */
"use strict";var e=require("@convertcom/js-sdk-enums"),o=function(){return o=Object.assign||function(e){for(var o,t=1,r=arguments.length;t<r;t++)for(var n in o=arguments[t])Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);return e},o.apply(this,arguments)};function t(e,o){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,n,l=t.call(e),i=[];try{for(;(void 0===o||o-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(t=l.return)&&t.call(l)}finally{if(n)throw n.error}}return i}function r(e,o,t){if(t||2===arguments.length)for(var r,n=0,l=o.length;n<l;n++)!r&&n in o||(r||(r=Array.prototype.slice.call(o,0,n)),r[n]=o[n]);return e.concat(r||Array.prototype.slice.call(o))}"function"==typeof SuppressedError&&SuppressedError;var n=e.LogLevel.TRACE,l=function(){function l(o,t,r){var l;void 0===o&&(o=console),void 0===t&&(t=n),this._defaultMapper=((l={})[e.LogMethod.LOG]=e.LogMethod.LOG,l[e.LogMethod.DEBUG]=e.LogMethod.DEBUG,l[e.LogMethod.INFO]=e.LogMethod.INFO,l[e.LogMethod.WARN]=e.LogMethod.WARN,l[e.LogMethod.ERROR]=e.LogMethod.ERROR,l),this._clients=[],this.addClient(o,t,r)}return l.prototype._isValidLevel=function(o){return Object.values(e.LogLevel).includes(o)},l.prototype._isValidMethod=function(o){return Object.values(e.LogMethod).includes(o)},l.prototype._log=function(o,n){for(var l=[],i=2;i<arguments.length;i++)l[i-2]=arguments[i];this._clients.forEach((function(i){if(n>=i.level&&e.LogLevel.SILENT!==n){var s=i.sdk[i.mapper[o]];s?s.call.apply(s,r([i.sdk],t(l),!1)):(console.log('Info: Unable to find method "'.concat(o,'()" in client sdk:'),i.sdk.constructor.name),console[o].apply(console,r([],t(l),!1)))}}))},l.prototype.log=function(o){for(var n=[],l=1;l<arguments.length;l++)n[l-1]=arguments[l];this._isValidLevel(o)?this._log.apply(this,r([e.LogMethod.LOG,o],t(n),!1)):console.error("Invalid Log Level")},l.prototype.trace=function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];this._log.apply(this,r([e.LogMethod.LOG,e.LogLevel.TRACE],t(o),!1))},l.prototype.debug=function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];this._log.apply(this,r([e.LogMethod.DEBUG,e.LogLevel.DEBUG],t(o),!1))},l.prototype.info=function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];this._log.apply(this,r([e.LogMethod.INFO,e.LogLevel.INFO],t(o),!1))},l.prototype.warn=function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];this._log.apply(this,r([e.LogMethod.WARN,e.LogLevel.WARN],t(o),!1))},l.prototype.error=function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];this._log.apply(this,r([e.LogMethod.ERROR,e.LogLevel.ERROR],t(o),!1))},l.prototype.addClient=function(e,t,r){if(void 0===e&&(e=console),void 0===t&&(t=n),e)if(this._isValidLevel(t)){var l=o({},this._defaultMapper);r&&Object.keys(r).filter(this._isValidMethod).forEach((function(e){l[e]=r[e]})),this._clients.push({sdk:e,level:t,mapper:l})}else console.error("Invalid Log Level");else console.error("Invalid Client SDK")},l.prototype.setClientLevel=function(e,o){if(this._isValidLevel(e))if(o){var t=this._clients.findIndex((function(e){return e.sdk===o}));if(-1===t)return void console.error("Client SDK not found");this._clients[t].level=e}else for(var r=0,n=this._clients.length;r<n;r++)this._clients[r].level=e;else console.error("Invalid Log Level")},l}();exports.LogManager=l;
//# sourceMappingURL=index.min.js.map

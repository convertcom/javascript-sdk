/*!
 * Convert JS SDK
 * Version 1.0.0
 * Copyright(c) 2020-2022 Convert Insights, Inc
 * License Apache-2.0
 */
"use strict";var o=require("@convertcom/js-sdk-enums"),e=function(){return e=Object.assign||function(o){for(var e,t=1,r=arguments.length;t<r;t++)for(var n in e=arguments[t])Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o},e.apply(this,arguments)};function t(o,e){var t="function"==typeof Symbol&&o[Symbol.iterator];if(!t)return o;var r,n,l=t.call(o),i=[];try{for(;(void 0===e||e-- >0)&&!(r=l.next()).done;)i.push(r.value)}catch(o){n={error:o}}finally{try{r&&!r.done&&(t=l.return)&&t.call(l)}finally{if(n)throw n.error}}return i}function r(o,e,t){if(t||2===arguments.length)for(var r,n=0,l=e.length;n<l;n++)!r&&n in e||(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return o.concat(r||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var n=o.LogLevel.TRACE,l=function(){function l(e,t,r){var l;void 0===e&&(e=console),void 0===t&&(t=n),this._defaultMapper=((l={})[o.LogMethod.LOG]=o.LogMethod.LOG,l[o.LogMethod.DEBUG]=o.LogMethod.DEBUG,l[o.LogMethod.INFO]=o.LogMethod.INFO,l[o.LogMethod.WARN]=o.LogMethod.WARN,l[o.LogMethod.ERROR]=o.LogMethod.ERROR,l[o.LogMethod.TRACE]=o.LogMethod.TRACE,l),this._clients=[],this.addClient(e,t,r)}return l.prototype._isValidLevel=function(e){return Object.values(o.LogLevel).includes(e)},l.prototype._isValidMethod=function(e){return Object.values(o.LogMethod).includes(e)},l.prototype._log=function(e,n){for(var l=[],i=2;i<arguments.length;i++)l[i-2]=arguments[i];this._clients.forEach((function(i){if(n>=i.level&&o.LogLevel.SILENT!==n){var s=i.sdk[i.mapper[e]];s?s.call.apply(s,r([i.sdk],t(l),!1)):(console.log('Info: Unable to find method "'.concat(e,'()" in client sdk:'),i.sdk.constructor.name),console[e].apply(console,r([],t(l),!1)))}}))},l.prototype.log=function(e){for(var n=[],l=1;l<arguments.length;l++)n[l-1]=arguments[l];this._isValidLevel(e)?this._log.apply(this,r([o.LogMethod.LOG,e],t(n),!1)):console.error("Invalid Log Level")},l.prototype.trace=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._log.apply(this,r([o.LogMethod.TRACE,o.LogLevel.TRACE],t(e),!1))},l.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._log.apply(this,r([o.LogMethod.DEBUG,o.LogLevel.DEBUG],t(e),!1))},l.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._log.apply(this,r([o.LogMethod.INFO,o.LogLevel.INFO],t(e),!1))},l.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._log.apply(this,r([o.LogMethod.WARN,o.LogLevel.WARN],t(e),!1))},l.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._log.apply(this,r([o.LogMethod.ERROR,o.LogLevel.ERROR],t(e),!1))},l.prototype.addClient=function(o,t,r){if(void 0===o&&(o=console),void 0===t&&(t=n),o)if(this._isValidLevel(t)){var l=e({},this._defaultMapper);r&&Object.keys(r).filter(this._isValidMethod).forEach((function(o){l[o]=r[o]})),this._clients.push({sdk:o,level:t,mapper:l})}else console.error("Invalid Log Level");else console.error("Invalid Client SDK")},l.prototype.setClientLevel=function(o,e){if(this._isValidLevel(o))if(e){var t=this._clients.findIndex((function(o){return o.sdk===e}));if(-1===t)return void console.error("Client SDK not found");this._clients[t].level=o}else for(var r=0,n=this._clients.length;r<n;r++)this._clients[r].level=o;else console.error("Invalid Log Level")},l}();exports.LogManager=l;
//# sourceMappingURL=index.min.js.map

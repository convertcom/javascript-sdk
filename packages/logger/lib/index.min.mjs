/*!
 * Convert JS SDK
 * Version 1.0.0
 * Copyright(c) 2020-2022 Convert Insights, Inc
 * License Apache-2.0
 */
import{LogLevel as e,LogMethod as l}from"@convertcom/enums";const o=e.TRACE;class i{constructor(e=console,i=o,s){this._defaultMapper={[l.LOG]:l.LOG,[l.DEBUG]:l.DEBUG,[l.INFO]:l.INFO,[l.WARN]:l.WARN,[l.ERROR]:l.ERROR},this._clients=[],this.addClient(e,i,s)}_isValidLevel(l){return Object.values(e).includes(l)}_isValidMethod(e){return Object.values(l).includes(e)}_log(l,o,...i){this._clients.forEach((s=>{if(o>=s.level&&e.SILENT!==o){const e=s.sdk[s.mapper[l]];e?e.call(s.sdk,...i):(console.log(`Info: Unable to find method "${l}()" in client sdk:`,s.sdk.constructor.name),console[l](...i))}}))}log(e,...o){this._isValidLevel(e)?this._log(l.LOG,e,...o):console.error("Invalid Log Level")}trace(...o){this._log(l.LOG,e.TRACE,...o)}debug(...o){this._log(l.DEBUG,e.DEBUG,...o)}info(...o){this._log(l.INFO,e.INFO,...o)}warn(...o){this._log(l.WARN,e.WARN,...o)}error(...o){this._log(l.ERROR,e.ERROR,...o)}addClient(e=console,l=o,i){if(!e)return void console.error("Invalid Client SDK");if(!this._isValidLevel(l))return void console.error("Invalid Log Level");const s=Object.assign({},this._defaultMapper);i&&Object.keys(i).filter(this._isValidMethod).forEach((e=>{s[e]=i[e]})),this._clients.push({sdk:e,level:l,mapper:s})}setClientLevel(e,l){if(!l)return void console.error("Invalid Client SDK");if(!this._isValidLevel(e))return void console.error("Invalid Log Level");const o=this._clients.findIndex((({sdk:e})=>e===l));-1!==o?this._clients[o].level=e:console.error("Client SDK not found")}}export{i as LogManager};
//# sourceMappingURL=index.min.mjs.map

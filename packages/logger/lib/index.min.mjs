/*!
 * Convert JS SDK
 * Version 1.0.0
 * Copyright(c) 2020-2022 Convert Insights, Inc
 * License Apache-2.0
 */
import{LogLevel as e,LogMethod as l}from"@convertcom/js-sdk-enums";const s=e.TRACE;class i{constructor(e=console,i=s,t){this._defaultMapper={[l.LOG]:l.LOG,[l.DEBUG]:l.DEBUG,[l.INFO]:l.INFO,[l.WARN]:l.WARN,[l.ERROR]:l.ERROR,[l.TRACE]:l.TRACE},this._clients=[],this.addClient(e,i,t)}_isValidLevel(l){return Object.values(e).includes(l)}_isValidMethod(e){return Object.values(l).includes(e)}_log(l,s,...i){this._clients.forEach((t=>{if(s>=t.level&&e.SILENT!==s){const e=t.sdk[t.mapper[l]];e?e.call(t.sdk,...i):(console.log(`Info: Unable to find method "${l}()" in client sdk:`,t.sdk.constructor.name),console[l](...i))}}))}log(e,...s){this._isValidLevel(e)?this._log(l.LOG,e,...s):console.error("Invalid Log Level")}trace(...s){this._log(l.TRACE,e.TRACE,...s)}debug(...s){this._log(l.DEBUG,e.DEBUG,...s)}info(...s){this._log(l.INFO,e.INFO,...s)}warn(...s){this._log(l.WARN,e.WARN,...s)}error(...s){this._log(l.ERROR,e.ERROR,...s)}addClient(e=console,l=s,i){if(!e)return void console.error("Invalid Client SDK");if(!this._isValidLevel(l))return void console.error("Invalid Log Level");const t=Object.assign({},this._defaultMapper);i&&Object.keys(i).filter(this._isValidMethod).forEach((e=>{t[e]=i[e]})),this._clients.push({sdk:e,level:l,mapper:t})}setClientLevel(e,l){if(this._isValidLevel(e))if(l){const s=this._clients.findIndex((({sdk:e})=>e===l));if(-1===s)return void console.error("Client SDK not found");this._clients[s].level=e}else for(let l=0,s=this._clients.length;l<s;l++)this._clients[l].level=e;else console.error("Invalid Log Level")}}export{i as LogManager};
//# sourceMappingURL=index.min.mjs.map

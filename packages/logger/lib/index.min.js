/*!
 * Convert JS SDK
 * Version 1.0.0
 * Copyright(c) 2020-2022 Convert Insights, Inc
 * License Apache-2.0
 */
"use strict";var e=require("@convertcom/js-sdk-enums");const o=e.LogLevel.TRACE;exports.LogManager=class{constructor(t=console,l=o,s){this._defaultMapper={[e.LogMethod.LOG]:e.LogMethod.LOG,[e.LogMethod.DEBUG]:e.LogMethod.DEBUG,[e.LogMethod.INFO]:e.LogMethod.INFO,[e.LogMethod.WARN]:e.LogMethod.WARN,[e.LogMethod.ERROR]:e.LogMethod.ERROR},this._clients=[],this.addClient(t,l,s)}_isValidLevel(o){return Object.values(e.LogLevel).includes(o)}_isValidMethod(o){return Object.values(e.LogMethod).includes(o)}_log(o,t,...l){this._clients.forEach((s=>{if(t>=s.level&&e.LogLevel.SILENT!==t){const e=s.sdk[s.mapper[o]];e?e.call(s.sdk,...l):(console.log(`Info: Unable to find method "${o}()" in client sdk:`,s.sdk.constructor.name),console[o](...l))}}))}log(o,...t){this._isValidLevel(o)?this._log(e.LogMethod.LOG,o,...t):console.error("Invalid Log Level")}trace(...o){this._log(e.LogMethod.LOG,e.LogLevel.TRACE,...o)}debug(...o){this._log(e.LogMethod.DEBUG,e.LogLevel.DEBUG,...o)}info(...o){this._log(e.LogMethod.INFO,e.LogLevel.INFO,...o)}warn(...o){this._log(e.LogMethod.WARN,e.LogLevel.WARN,...o)}error(...o){this._log(e.LogMethod.ERROR,e.LogLevel.ERROR,...o)}addClient(e=console,t=o,l){if(!e)return void console.error("Invalid Client SDK");if(!this._isValidLevel(t))return void console.error("Invalid Log Level");const s=Object.assign({},this._defaultMapper);l&&Object.keys(l).filter(this._isValidMethod).forEach((e=>{s[e]=l[e]})),this._clients.push({sdk:e,level:t,mapper:s})}setClientLevel(e,o){if(this._isValidLevel(e))if(o){const t=this._clients.findIndex((({sdk:e})=>e===o));if(-1===t)return void console.error("Client SDK not found");this._clients[t].level=e}else for(let o=0,t=this._clients.length;o<t;o++)this._clients[o].level=e;else console.error("Invalid Log Level")}};
//# sourceMappingURL=index.min.js.map

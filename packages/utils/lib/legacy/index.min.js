/*!
 * Convert JS SDK
 * Version 1.0.0
 * Copyright(c) 2020-2022 Convert Insights, Inc
 * License Apache-2.0
 */
"use strict";var e=require("@convertcom/enums");var t=function(){function e(){}var t;return e.equals=function(e,t,r){return Array.isArray(e)?this._returnNegationCheck(e.includes(t),r):e.constructor===Object&&"string"==typeof t?this._returnNegationCheck(Object.keys(e).includes(t),r):this._returnNegationCheck(e===t,r)},e.less=function(e,t,r){return typeof e==typeof t&&e!==t&&this._returnNegationCheck(e<t,r)},e.lessEqual=function(e,t,r){return typeof e==typeof t&&(e===t||this._returnNegationCheck(e<=t,r))},e.contains=function(e,t,r){return e=String(e),t=String(t),e=e.valueOf().toLowerCase(),0===(t=t.valueOf().toLowerCase()).replace(/^([\s]*)|([\s]*)$/g,"").length?this._returnNegationCheck(!0,r):this._returnNegationCheck(-1!==e.indexOf(t),r)},e.isIn=function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n="|");var o=String(e).split(n).map((function(e){return String(e)}));"string"==typeof t&&(t=t.split(n)),Array.isArray(t)||(t=[]),t=t.map((function(e){return String(e).valueOf().toLowerCase()}));for(var i=0;i<o.length;i++){if(-1===t.indexOf(o[i])&&!r)return!1;if(-1!==t.indexOf(o[i])&&r)return!1}return!0},e.startsWith=function(e,t,r){return e=String(e).valueOf().toLowerCase(),t=String(t).valueOf().toLowerCase(),this._returnNegationCheck(0===e.indexOf(t),r)},e.endsWith=function(e,t,r){return e=String(e).valueOf().toLowerCase(),t=String(t).valueOf().toLowerCase(),this._returnNegationCheck(-1!==e.indexOf(t,e.length-t.length),r)},e.regexMatches=function(e,t,r){e=String(e).valueOf().toLowerCase(),t=String(t).valueOf();var n=new RegExp(t,"i");return this._returnNegationCheck(n.test(e),r)},e._returnNegationCheck=function(e,t){return void 0===t&&(t=!1),t?!e:e},t=e,e.equalsNumber=t.equals,e.matches=t.equals,e}(),r=function(){function e(e,t){var r,n,o,i;this._file=e,this._fs=t;try{(null===(n=null===(r=this._fs)||void 0===r?void 0:r.existsSync)||void 0===n?void 0:n.call(r,this._file))||null===(i=null===(o=this._fs)||void 0===o?void 0:o.writeFileSync)||void 0===i||i.call(o,this._file,"{}")}catch(e){console.error(e)}}return e.prototype.get=function(e){var t,r;try{return JSON.parse(null===(r=null===(t=this._fs)||void 0===t?void 0:t.readFileSync)||void 0===r?void 0:r.call(t,this._file))[e]}catch(e){console.error(e)}},e.prototype.set=function(e,t){var r,n,o,i;try{var a=JSON.parse(null===(n=null===(r=this._fs)||void 0===r?void 0:r.readFileSync)||void 0===n?void 0:n.call(r,this._file));a[e]=t,null===(i=null===(o=this._fs)||void 0===o?void 0:o.writeFileSync)||void 0===i||i.call(o,this._file,JSON.stringify(a))}catch(e){console.error(e)}},e.prototype.delete=function(e){var t,r,n,o;try{var i=JSON.parse(null===(r=null===(t=this._fs)||void 0===t?void 0:t.readFileSync)||void 0===r?void 0:r.call(t,this._file));delete i[e],null===(o=null===(n=this._fs)||void 0===n?void 0:n.writeFileSync)||void 0===o||o.call(n,this._file,JSON.stringify(i))}catch(e){console.error(e)}},e}();function n(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))}function o(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function i(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function a(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}var s,u,c,l,d,f=function(){function t(e,t,r){void 0===r&&(r="appendFileSync"),this._file=e,this._fs=t,this._appendMethod=r}return t.prototype._write=function(e){for(var t,r,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return n(this,void 0,void 0,(function(){var n,a;return o(this,(function(o){n="".concat((new Date).toISOString()," [").concat(e.toUpperCase(),"]"),a="".concat(n," ").concat(i.map(JSON.stringify).join("\n".concat(n," ")),"\n");try{null===(r=null===(t=this._fs)||void 0===t?void 0:t[this._appendMethod])||void 0===r||r.call(t,this._file,a)}catch(e){console.warn(e)}return[2]}))}))},t.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,this._write.apply(this,a([e.LogMethod.LOG],i(t),!1))];case 1:return r.sent(),[2]}}))}))},t.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,this._write.apply(this,a([e.LogMethod.INFO],i(t),!1))];case 1:return r.sent(),[2]}}))}))},t.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,this._write.apply(this,a([e.LogMethod.DEBUG],i(t),!1))];case 1:return r.sent(),[2]}}))}))},t.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,this._write.apply(this,a([e.LogMethod.WARN],i(t),!1))];case 1:return r.sent(),[2]}}))}))},t.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,this._write.apply(this,a([e.LogMethod.ERROR],i(t),!1))];case 1:return r.sent(),[2]}}))}))},t}();!function(e){e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired"}(s||(s={}));try{u=require("url"),c=require("http"),l=require("https"),d=require("querystring")}catch(e){}var h=function(e){return!["GET","HEAD","DELETE","TRACE","OPTIONS"].includes(e.toUpperCase())},p=function(e,t){var r="";return e&&e.constructor===Object&&!h(t)&&(r="undefined"!=typeof XMLHttpRequest?Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&"):d.stringify(e)),r?"?".concat(r):r},v={request:function(t){var r,n=(null===(r=null==t?void 0:t.method)||void 0===r?void 0:r.toUpperCase())||"GET",o=(null==t?void 0:t.path)?t.path.startsWith("/")?t.path:"/".concat(t.path):"",i=t.baseURL.endsWith("/")?t.baseURL.slice(0,-1):t.baseURL,a=(null==t?void 0:t.responseType)||"json";return new Promise((function(r,d){if("undefined"!=typeof XMLHttpRequest){var f={method:n};(null==t?void 0:t.headers)&&(f.headers=t.headers),(null==t?void 0:t.data)&&h(n)&&(f.body=JSON.stringify(t.data)),fetch("".concat(i).concat(o).concat(p(null==t?void 0:t.data,n)),f).then((function(t){if(t.status===s.Ok){var n={status:t.status,statusText:t.statusText,headers:t.headers,data:null};switch(a){case"json":n.data=t.json();break;case"arraybuffer":n.data=t.arrayBuffer();break;case"text":n.data=t;break;default:return void d({message:e.ERROR_MESSAGES.UNSUPPORTED_RESPONSE_TYPE})}r(n)}else d({message:t.statusText,status:t.status})})).catch((function(e){return d({message:null==e?void 0:e.message,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText})}))}else if(u&&l&&c){var v=u.parse(i);v.port?v.port=Number(v.port):v.port="https:"===v.protocol?443:80;var y=v.path.endsWith("/")?v.path.slice(0,-1):v.path,g="https:"===v.protocol?l:c,S=[],b=(f={hostname:v.hostname,path:"".concat(y).concat(o).concat(p(null==t?void 0:t.data,n)),port:v.port,method:n},(null==t?void 0:t.data)&&h(n)?JSON.stringify(t.data):null);(null==t?void 0:t.headers)&&(f.headers=t.headers),b&&(f.headers||(f.headers={}),f.headers["Content-Length"]=Buffer.byteLength(b));var R=g.request(f,(function(t){t.on("data",(function(e){return S.push(e)})),t.on("end",(function(){if(t.statusCode===s.Ok){var n=Buffer.concat(S),o=n.toString(),i={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,data:null};switch(a){case"json":i.data=o?JSON.parse(o):"";break;case"arraybuffer":i.data=null==n?void 0:n.buffer;break;case"text":i.data=t;break;default:return void d({message:e.ERROR_MESSAGES.UNSUPPORTED_RESPONSE_TYPE})}r(i)}else d({message:t.statusMessage,status:t.statusCode})}))}));R.on("error",(function(e){return d({message:null==e?void 0:e.message,status:null==e?void 0:e.code,statusText:null==e?void 0:e.statusText})})),b&&R.write(b),R.end()}else d({message:e.ERROR_MESSAGES.UNABLE_TO_PERFORM_NETWORK_REQUEST})}))}};exports.Comparisons=t,exports.DataStore=r,exports.FileLogger=f,exports.HttpClient=v,exports.arrayNotEmpty=function(e){return Array.isArray(e)&&e.length>0},exports.camelCase=function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0==t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,"")},exports.castType=function(e,t){switch(t){case"boolean":return"true"===e||"false"!==e&&!!e;case"float":return!0===e?1:!1===e?0:parseFloat(e);case"json":if("object"==typeof e)return e;try{return JSON.parse(e)}catch(t){return String(e)}case"string":return String(e);case"integer":return!0===e?1:!1===e?0:parseInt(e);default:return e}},exports.objectDeepMerge=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=function(e){return e&&"object"==typeof e};return t.reduce((function(t,r){return Object.keys(r).forEach((function(o){var s=t[o],u=r[o];Array.isArray(s)&&Array.isArray(u)?t[o]=a([],i(new Set(a(a([],i(u),!1),i(s),!1))),!1):n(s)&&n(u)?t[o]=e(s,u):t[o]=u})),t}),{})},exports.objectDeepValue=function(e,t,r,n){void 0===n&&(n=!1);try{if("object"==typeof e){var o=t.split(".").reduce((function(e,t){return e[t]}),e);if(o||n&&(!1===o||0===o))return o}}catch(e){}return void 0!==r?r:null},exports.objectNotEmpty=function(e){return e&&e.constructor===Object&&Object.keys(e).length>0},exports.stringFormat=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(t.length){var n=0;return e.replace(/(%?)(%([sj]))/g,(function(e,r,o,i){if(r)return e;var a=t[n++],s="function"==typeof a?a():a;switch(i){case"s":return String(s);case"j":return JSON.stringify(s)}})).replace("%%","%")}return String(e)};
//# sourceMappingURL=index.min.js.map
